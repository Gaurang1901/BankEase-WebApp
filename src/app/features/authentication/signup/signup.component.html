<div class="min-h-screen flex">
  <!-- Left Side: Login Form -->
  <div class="flex w-full md:w-1/2 bg-background items-center px-8">
    <div class="w-full flex flex-col p-2 justify-between h-screen max-w-md">
      <!-- Project Title -->
      <div>
        <div class="flex items-center justify-start mb-8">
          <h1 class="text-3xl font-bold text-slate-800 dark:text-slate-100">
            BankEase
          </h1>
        </div>
      </div>

      <!-- Sign Up Section -->
      <div class="flex-grow">
        <h2 class="text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2">
          Create Your Account
        </h2>
        <p class="text-slate-600 dark:text-slate-400 mb-6">
          Join BankEase - Step {{ currentStep + 1 }} of 2
        </p>

        <p-steps
          [model]="steps"
          [activeIndex]="currentStep"
          [readonly]="true"
        ></p-steps>

        <!-- User Form -->
        <form [formGroup]="userForm" class="mt-6" *ngIf="currentStep === 0">
          <div class="md:grid md:grid-cols-2 flex flex-col gap-4">
            <!-- First Name -->
            <div class="col-span-1">
              <label
                for="firstName"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                First Name *
              </label>
              <input
                pInputText
                id="firstName"
                formControlName="firstName"
                class="w-full"
              />
            </div>

            <!-- Last Name -->
            <div class="col-span-1">
              <label
                for="lastName"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Last Name *
              </label>
              <input
                pInputText
                id="lastName"
                formControlName="lastName"
                class="w-full"
              />
            </div>

            <!-- Email -->
            <div class="col-span-2">
              <label
                for="email"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Email *
              </label>
              <input
                pInputText
                id="email"
                formControlName="email"
                type="email"
                class="w-full"
              />
            </div>

            <!-- Password -->
            <div class="col-span-1">
              <label
                for="password"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Password *
              </label>
              <p-password
                id="password"
                formControlName="password"
                class="w-full"
                styleClass="w-full"
                [toggleMask]="true"
                [feedback]="true"
              />
            </div>

            <!-- Confirm Password -->
            <div class="col-span-1">
              <label
                for="confirmPassword"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Confirm Password *
              </label>
              <p-password
                id="confirmPassword"
                formControlName="confirmPassword"
                class="w-full"
                styleClass="w-full"
                [toggleMask]="true"
                [feedback]="true"
              />
            </div>

            <!-- Phone -->
            <div class="col-span-1">
              <label
                for="phone"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Phone
              </label>
              <input
                pInputText
                id="phone"
                formControlName="phone"
                class="w-full"
              />
            </div>

            <!-- Date of Birth -->
            <div class="col-span-1">
              <label
                for="dateOfBirth"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Date of Birth
              </label>
              <p-calendar
                id="dateOfBirth"
                formControlName="dateOfBirth"
                [showIcon]="true"
                class="w-full"
                [maxDate]="date"
                styleClass="w-full"
              ></p-calendar>
            </div>

            <!-- Address -->
            <div class="col-span-2">
              <label
                for="address"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Address
              </label>
              <input
                pInputText
                id="address"
                formControlName="address"
                class="w-full"
              />
            </div>

            <!-- Country -->
            <div class="col-span-1">
              <label
                for="country"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Country
              </label>
              <p-dropdown
                id="country"
                [options]="countries"
                formControlName="country"
                optionLabel="name"
                optionValue="code"
                placeholder="Select country"
                class="w-full rounded-xl"
              ></p-dropdown>
            </div>

            <!-- State -->
            <div class="col-span-1">
              <label
                for="state"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                State
              </label>
              <p-dropdown
                id="state"
                [options]="states"
                formControlName="state"
                optionLabel="name"
                optionValue="id"
                placeholder="Select state"
                class="w-full rounded-xl"
              ></p-dropdown>
            </div>

            <!-- City -->
            <div class="col-span-1">
              <label
                for="city"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                City
              </label>
              <input
                pInputText
                id="city"
                formControlName="city"
                class="w-full"
              />
            </div>

            <!-- ZIP Code -->
            <div class="col-span-1">
              <label
                for="zipCode"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                ZIP Code
              </label>
              <input
                pInputText
                id="zipCode"
                formControlName="zipCode"
                class="w-full"
              />
            </div>
          </div>
        </form>

        <!-- Account Form -->
        <form [formGroup]="accountForm" class="mt-6" *ngIf="currentStep === 1">
          <div class="grid grid-cols-1 gap-4">
            <!-- Account Type -->
            <div>
              <label
                for="accountType"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Account Type *
              </label>
              <p-dropdown
                id="accountType"
                [options]="accountTypes"
                formControlName="accountType"
                optionLabel="label"
                optionValue="value"
                placeholder="Select account type"
                class="w-full"
              ></p-dropdown>
            </div>

            <!-- Initial Deposit -->
            <div>
              <label
                for="initialDeposit"
                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"
              >
                Initial Deposit Amount *
              </label>
              <p-inputNumber
                id="initialDeposit"
                formControlName="initialDeposit"
                [min]="1000"
                mode="currency"
                currency="INR"
                class="w-full"
              >
              </p-inputNumber>
            </div>

            <!-- Account Summary -->
            <div class="mt-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg">
              <h3 class="text-lg font-semibold mb-2">Account Summary</h3>
              <div class="space-y-2">
                <p>
                  <span class="font-medium">Name:</span>
                  {{ userForm.get("firstName")?.value }}
                  {{ userForm.get("lastName")?.value }}
                </p>
                <p>
                  <span class="font-medium">Email:</span>
                  {{ userForm.get("email")?.value }}
                </p>
                <p>
                  <span class="font-medium">Account Type:</span>
                  {{ accountForm.get("accountType")?.value }}
                </p>
                <p>
                  <span class="font-medium">Initial Deposit:</span> ₹{{
                    accountForm.get("initialDeposit")?.value
                  }}
                </p>
              </div>
            </div>
          </div>
        </form>

        <!-- Navigation Buttons -->
        <div class="flex justify-between mt-6">
          <div>
            <button
              pButton
              type="button"
              label="Back to Login"
              class="p-button-link"
              (click)="navigateToLogin()"
            ></button>
          </div>
          <div class="flex gap-2">
            <button
              *ngIf="currentStep > 0"
              pButton
              type="button"
              label="Previous"
              class="p-button-outlined"
              (click)="onPrevious()"
            ></button>
            <button
              *ngIf="currentStep === 0"
              pButton
              type="button"
              label="Next"
              [disabled]="!userForm.valid"
              (click)="onNext()"
            ></button>
            <button
              *ngIf="currentStep === 1"
              pButton
              type="button"
              label="Create Account"
              [disabled]="!accountForm.valid"
              (click)="onCreateAccount()"
            ></button>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div
        class="mt-10 text-xs text-slate-500 dark:text-slate-400 flex justify-between"
      >
        <span>Copyright © 2025 BankEase</span>
        <div class="flex gap-3">
          <a href="#" class="hover:underline">Terms of Service</a>
          <a href="#" class="hover:underline">Privacy Policy</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Right Side: Background Image -->
  <div class="hidden p-2 md:flex w-1/2">
    <div
      class="h-full bg-card-muted border w-full border-foreground-tertiary rounded-xl"
    ></div>
  </div>
</div>
