<div
  class="bg-card border-r border-primary-100 top-0 z-10 w-66 h-screen transition-all duration-500 fixed"
  [ngClass]="isLeftSidebarCollapsed() ? 'w-[5rem]' : ''"
>
  <!-- Sidebar Header -->
  <div class="flex items-center w-full p-4">
    <button
      class="text-center items-center justify-center flex h-12 w-12 rounded-md p-1 text-2xl font-black cursor-pointer min-w-[3rem] border border-gray-200"
      (click)="toggleCollapse()"
    >
      <i class="pi pi-bars dark:text-foreground"></i>
    </button>
    @if (!isLeftSidebarCollapsed()) {
    <div class="ml-6 text-2xl font-bold text-foreground truncate">
      BankEase
    </div>
    }
  </div>

  <!-- Sidebar Menu -->
  <ul
    style="scrollbar-width: none"
    class="p-4 m-0 flex flex-col items-center list-none h-[calc(100%-3.65rem)] w-full overflow-y-auto"
  >
    @for (item of items(); track item.routeLink ?? item.label) {
    <li
      class="w-full mb-1"
      [pTooltip]="isLeftSidebarCollapsed() ? item.label : ''"
    >
      <!-- Parent or Leaf -->
      <!-- [class.px-2]="isLeftSidebarCollapsed()" -->
      <div
        class="flex items-center h-12 text-foreground no-underline rounded-lg cursor-pointer truncate px-2 hover:bg-primary-300 hover:font-bold hover:text-primary-600"
        (click)="handleItemClick(item)"
        [routerLink]="!item.isParent ? item.routeLink : null"
        [routerLinkActive]="
          !item.isParent ? 'bg-primary-300 text-text-primary-600' : ''
        "
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <i
          class="text-xl w-8 text-center text-foreground min-w-[2rem]"
          [class]="item.icon"
        ></i>
        @if (!isLeftSidebarCollapsed()) {
        <span
          [routerLinkActive]="!item.isParent ? 'font-bold' : ''"
          class="ml-4 flex-1 text-sm"
          >{{ item.label }}</span
        >
        @if (item.isParent) {
        <i
          class="pi"
          [ngClass]="item.expanded ? 'pi-chevron-down' : 'pi-chevron-right'"
        ></i>
        } }
      </div>
    </li>
    }
  </ul>
</div>
